—
ZC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Controllers\BookController.cs
	namespace		 	
BookList		
 
.		 
Controllers		 
{

 
[ 
Route 	
(	 

$str
 
) 
] 
[ 
ApiController 
] 
public 

class 
BookController 
:  !

Controller" ,
{ 
private 
readonly  
ApplicationDbContext -
_db. 1
;1 2
public 
BookController 
(  
ApplicationDbContext 2
db3 5
)5 6
{ 	
_db 
= 
db 
; 
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
return 
Json 
( 
new 
{ 
data #
=$ %
await& +
_db, /
./ 0
Book0 4
.4 5
ToListAsync5 @
(@ A
)A B
}C D
)D E
;E F
} 	
[ 	

HttpDelete	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Delete) /
(/ 0
int0 3
id4 6
)6 7
{ 	
var 

bookFromDb 
= 
await "
_db# &
.& '
Book' +
.+ ,
FirstOrDefaultAsync, ?
(? @
u@ A
=>B D
uE F
.F G
IdG I
==J L
idM O
)O P
;P Q
if 
( 

bookFromDb 
== 
null !
)! "
{ 
return 
Json 
( 
new 
{  !
success" )
=* +
false, 1
,1 2
message3 :
=; <
$str= S
}T U
)U V
;V W
}   
_db!! 
.!! 
Book!! 
.!! 
Remove!! 
(!! 

bookFromDb!! &
)!!& '
;!!' (
await"" 
_db"" 
."" 
SaveChangesAsync"" &
(""& '
)""' (
;""( )
return## 
Json## 
(## 
new## 
{## 
success## &
=##' (
true##) -
,##- .
message##/ 6
=##7 8
$str##9 L
}##M N
)##N O
;##O P
}$$ 	
}%% 
}&& «
eC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Migrations\20200531122027_AddBookToDb.cs
	namespace 	
BookList
 
. 

Migrations 
{ 
public 

partial 
class 
AddBookToDb $
:% &
	Migration' 0
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
CreateTable		 (
(		( )
name

 
:

 
$str

 
,

 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
nullable+ 3
:3 4
false5 :
): ;
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
nullable0 8
:8 9
false: ?
)? @
,@ A
Author 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
nullable2 :
:: ;
true< @
)@ A
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% .
,. /
x0 1
=>2 4
x5 6
.6 7
Id7 9
)9 :
;: ;
} 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str 
) 
; 
} 	
} 
} —

lC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Migrations\20200531180819_AddISBNToBookModel.cs
	namespace 	
BookList
 
. 

Migrations 
{ 
public 

partial 
class 
AddISBNToBookModel +
:, -
	Migration. 7
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	AddColumn		 &
<		& '
string		' -
>		- .
(		. /
name

 
:

 
$str

 
,

 
table 
: 
$str 
, 
nullable 
: 
true 
) 
;  
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str 
) 
; 
} 	
} 
} Ü
jC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Migrations\20200815200829_MyFirstMigration.cs
	namespace 	
BookList
 
. 

Migrations 
{ 
public 

partial 
class 
MyFirstMigration )
:* +
	Migration, 5
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
}

 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} –
ZC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Model\ApplicationDbContext.cs
	namespace 	
BookList
 
. 
Model 
{ 
public		 

class		  
ApplicationDbContext		 %
:		& '
	DbContext		( 1
{

 
public  
ApplicationDbContext #
(# $
DbContextOptions$ 4
<4 5 
ApplicationDbContext5 I
>I J
optionsK R
)R S
:T U
baseV Z
(Z [
options[ b
)b c
{ 	
} 	
public 
DbSet 
< 
Book 
> 
Book 
{  !
get" %
;% &
set' *
;* +
}, -
} 
}  
JC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Model\Book.cs
	namespace 	
BookList
 
. 
Model 
{ 
public		 

class		 
Book		 
{

 
[ 	
key	 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	
Required	 
] 
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Author 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
ISBN 
{ 
get  
;  !
set" %
;% &
}' (
} 
} ¬
RC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Model\keyAttribute.cs
	namespace 	
BookList
 
. 
Model 
{ 
internal 
class 
keyAttribute 
:  !
	Attribute" +
{ 
} 
} ◊
ZC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Pages\BookLi\Create.cshtml.cs
	namespace		 	
BookList		
 
.		 
Pages		 
.		 
BookLi		 
{

 
public 

class 
CreateModel 
: 
	PageModel (
{ 
private 
readonly  
ApplicationDbContext -
_db. 1
;1 2
public 
CreateModel 
(  
ApplicationDbContext /
db0 2
)2 3
{ 	
_db 
= 
db 
; 
} 	
[ 	
BindProperty	 
] 
public 
Book 
Book 
{ 
get 
; 
set  #
;# $
}% &
public 
void 
OnGet 
( 
) 
{ 	
} 	
public 
async 
Task 
< 
IActionResult '
>' (
OnPost) /
(/ 0
)0 1
{ 	
if 
( 

ModelState 
. 
IsValid "
)" #
{ 
await 
_db 
. 
Book 
. 
AddAsync '
(' (
Book( ,
), -
;- .
await 
_db 
. 
SaveChangesAsync *
(* +
)+ ,
;, -
return 
RedirectToPage %
(% &
$str& -
)- .
;. /
} 
else   
{!! 
return"" 
Page"" 
("" 
)"" 
;"" 
}## 
}$$ 	
}%% 
}&& å
XC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Pages\BookLi\Edit.cshtml.cs
	namespace		 	
BookList		
 
.		 
Pages		 
.		 
BookLi		 
{

 
public 

class 
	EditModel 
: 
	PageModel &
{ 
private  
ApplicationDbContext $
_db% (
;( )
public 
	EditModel 
(  
ApplicationDbContext -
db. 0
)0 1
{ 	
_db 
= 
db 
; 
} 	
[ 	
BindProperty	 
] 
public 
Book 
Book 
{ 
get 
; 
set  #
;# $
}% &
public 
async 
Task 
OnGet 
(  
int  #
id$ &
)& '
{ 	
Book 
= 
await 
_db 
. 
Book !
.! "
	FindAsync" +
(+ ,
id, .
). /
;/ 0
} 	
public 
async 
Task 
< 
IActionResult '
>' (
OnPost) /
(/ 0
)0 1
{ 	
if 
( 

ModelState 
. 
IsValid "
)" #
{ 
var 

BookFromDb 
=  
await! &
_db' *
.* +
Book+ /
./ 0
	FindAsync0 9
(9 :
Book: >
.> ?
Id? A
)A B
;B C

BookFromDb 
. 
Name 
=  !
Book" &
.& '
Name' +
;+ ,

BookFromDb 
. 
Author !
=" #
Book$ (
.( )
Author) /
;/ 0

BookFromDb 
. 
ISBN 
=  !
Book" &
.& '
ISBN' +
;+ ,
await!! 
_db!! 
.!! 
SaveChangesAsync!! *
(!!* +
)!!+ ,
;!!, -
return"" 
RedirectToPage"" %
(""% &
$str""& -
)""- .
;"". /
}## 
return$$ 
RedirectToPage$$ !
($$! "
)$$" #
;$$# $
}%% 	
}&& 
}'' €
YC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Pages\BookLi\index.cshtml.cs
	namespace

 	
BookList


 
.

 
Pages

 
.

 
BookLi

 
{ 
public 

class 

indexModel 
: 
	PageModel '
{ 
private 
readonly  
ApplicationDbContext -
_db. 1
;1 2
public 

indexModel 
(  
ApplicationDbContext .
db/ 1
)1 2
{ 	
_db 
= 
db 
; 
} 	
public 
IEnumerable 
< 
Book 
>  
Books! &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
async 
Task 
OnGet 
(  
)  !
{ 	
Books 
= 
await 
_db 
. 
Book "
." #
ToListAsync# .
(. /
)/ 0
;0 1
} 	
public 
async 
Task 
< 
IActionResult '
>' (
OnPostDelete) 5
(5 6
int6 9
id: <
)< =
{ 	
var 
book 
= 
await 
_db  
.  !
Book! %
.% &
	FindAsync& /
(/ 0
id0 2
)2 3
;3 4
if 
( 
book 
== 
null 
) 
{ 
return 
NotFound 
(  
)  !
;! "
} 
_db 
. 
Book 
. 
Remove 
( 
book  
)  !
;! "
await   
_db   
.   
SaveChangesAsync   &
(  & '
)  ' (
;  ( )
return"" 
RedirectToPage"" !
(""! "
$str""" )
)"") *
;""* +
}## 	
}$$ 
}%% ˛
ZC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Pages\BookLi\Upsert.cshtml.cs
	namespace

 	
BookList


 
.

 
Pages

 
.

 
BookLi

 
{ 
public 

class 
UpsertModel 
: 
	PageModel (
{ 
private  
ApplicationDbContext $
_db% (
;( )
public 
UpsertModel 
(  
ApplicationDbContext /
db0 2
)2 3
{ 	
_db 
= 
db 
; 
} 	
[ 	
BindProperty	 
] 
public 
Book 
Book 
{ 
get 
; 
set  #
;# $
}% &
public 
async 
Task 
< 
IActionResult '
>' (
OnGet) .
(. /
int/ 2
?2 3
id4 6
)6 7
{ 	
Book 
= 
new 
Book 
( 
) 
; 
if 
( 
id 
== 
null 
) 
{ 
return 
Page 
( 
) 
; 
} 
Book"" 
="" 
await"" 
_db"" 
."" 
Book"" !
.""! "
FirstOrDefaultAsync""" 5
(""5 6
u""6 7
=>""8 :
u""; <
.""< =
Id""= ?
==""@ B
id""C E
)""E F
;""F G
if## 
(## 
Book## 
==## 
null## 
)## 
{$$ 
return%% 
NotFound%% 
(%%  
)%%  !
;%%! "
}&& 
return'' 
Page'' 
('' 
)'' 
;'' 
}(( 	
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
OnPost**) /
(**/ 0
)**0 1
{++ 	
if,, 
(,, 

ModelState,, 
.,, 
IsValid,, "
),," #
{-- 
if// 
(// 
Book// 
.// 
Id// 
==// 
$num//  
)//  !
{00 
_db11 
.11 
Book11 
.11 
Add11  
(11  !
Book11! %
)11% &
;11& '
}22 
else33 
{44 
_db55 
.55 
Book55 
.55 
Update55 #
(55# $
Book55$ (
)55( )
;55) *
}66 
await88 
_db88 
.88 
SaveChangesAsync88 *
(88* +
)88+ ,
;88, -
return:: 
RedirectToPage:: %
(::% &
$str::& -
)::- .
;::. /
};; 
return<< 
RedirectToPage<< !
(<<! "
)<<" #
;<<# $
}== 	
}?? 
}@@ ó
RC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Pages\Error.cshtml.cs
	namespace

 	
BookList


 
.

 
Pages

 
{ 
[ 
ResponseCache 
( 
Duration 
= 
$num 
,  
Location! )
=* +!
ResponseCacheLocation, A
.A B
NoneB F
,F G
NoStoreH O
=P Q
trueR V
)V W
]W X
public 

class 

ErrorModel 
: 
	PageModel '
{ 
public 
string 
	RequestId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
bool 
ShowRequestId !
=>" $
!% &
string& ,
., -
IsNullOrEmpty- :
(: ;
	RequestId; D
)D E
;E F
private 
readonly 
ILogger  
<  !

ErrorModel! +
>+ ,
_logger- 4
;4 5
public 

ErrorModel 
( 
ILogger !
<! "

ErrorModel" ,
>, -
logger. 4
)4 5
{ 	
_logger 
= 
logger 
; 
} 	
public 
void 
OnGet 
( 
) 
{ 	
	RequestId 
= 
Activity  
.  !
Current! (
?( )
.) *
Id* ,
??- /
HttpContext0 ;
.; <
TraceIdentifier< K
;K L
} 	
} 
} €
RC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Pages\Index.cshtml.cs
	namespace		 	
BookList		
 
.		 
Pages		 
{

 
public 

class 

IndexModel 
: 
	PageModel '
{ 
private 
readonly 
ILogger  
<  !

IndexModel! +
>+ ,
_logger- 4
;4 5
public 

IndexModel 
( 
ILogger !
<! "

IndexModel" ,
>, -
logger. 4
)4 5
{ 	
_logger 
= 
logger 
; 
} 	
public 
void 
OnGet 
( 
) 
{ 	
} 	
} 
} Â
TC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Pages\Privacy.cshtml.cs
	namespace		 	
BookList		
 
.		 
Pages		 
{

 
public 

class 
PrivacyModel 
: 
	PageModel  )
{ 
private 
readonly 
ILogger  
<  !
PrivacyModel! -
>- .
_logger/ 6
;6 7
public 
PrivacyModel 
( 
ILogger #
<# $
PrivacyModel$ 0
>0 1
logger2 8
)8 9
{ 	
_logger 
= 
logger 
; 
} 	
public 
void 
OnGet 
( 
) 
{ 	
} 	
} 
} ù

GC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Program.cs
	namespace

 	
BookList


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} ó
GC:\Users\Teodorico S Mazivila\source\repos\BookList\BookList\Startup.cs
	namespace 	
BookList
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddDbContext !
<! " 
ApplicationDbContext" 6
>6 7
(7 8
option8 >
=>? A
optionB H
.H I
UseSqlServerI U
(U V
ConfigurationV c
[c d
$str	d à
]
à â
)
â ä
)
ä ã
;
ã å
services 
. #
AddControllersWithViews ,
(, -
)- .
;. /
services 
. 
AddRazorPages "
(" #
)# $
.$ %&
AddRazorRuntimeCompilation% ?
(? @
)@ A
;A B
} 	
public"" 
void"" 
	Configure"" 
("" 
IApplicationBuilder"" 1
app""2 5
,""5 6
IWebHostEnvironment""7 J
env""K N
)""N O
{## 	
if$$ 
($$ 
env$$ 
.$$ 
IsDevelopment$$ !
($$! "
)$$" #
)$$# $
{%% 
app&& 
.&& %
UseDeveloperExceptionPage&& -
(&&- .
)&&. /
;&&/ 0
}'' 
else(( 
{)) 
app** 
.** 
UseExceptionHandler** '
(**' (
$str**( 0
)**0 1
;**1 2
app,, 
.,, 
UseHsts,, 
(,, 
),, 
;,, 
}-- 
app// 
.// 
UseHttpsRedirection// #
(//# $
)//$ %
;//% &
app00 
.00 
UseStaticFiles00 
(00 
)00  
;00  !
app22 
.22 

UseRouting22 
(22 
)22 
;22 
app44 
.44 
UseAuthorization44  
(44  !
)44! "
;44" #
app66 
.66 
UseEndpoints66 
(66 
	endpoints66 &
=>66' )
{77 
	endpoints88 
.88 
MapControllers88 (
(88( )
)88) *
;88* +
	endpoints99 
.99 
MapRazorPages99 '
(99' (
)99( )
;99) *
}:: 
):: 
;:: 
};; 	
}<< 
}== 